<div id="logo">
    <span class="big-logo">Stylopin.in</span>
    <span class="small-logo">S!M</span>
</div>
<div id="left-menu">
    <ul>
        <li routerLinkActive="active"><a routerLink="/Dashboard">
                <i class="ion-ios-person-outline"></i>
                <span>Product</span>
            </a></li>
        <li routerLinkActive="active"><a routerLink="/About">
                <i class="ion-ios-albums-outline"></i>
                <span>About</span>
            </a></li>
        <li routerLinkActive="active"><a routerLink="/Banner">
                <i class="ion-ios-albums-outline"></i>
                <span>Banner</span>
            </a></li>

        <li routerLinkActive="active"><a routerLink="/BuyNow">
                <i class="ion-ios-chatboxes-outline"></i>
                <span>BuyNow</span>
            </a></li>

        <li routerLinkActive="active"><a routerLink="/ContactUS">
                <i class="ion-ios-chatboxes-outline"></i>
                <span>Contact</span>
            </a></li>

    </ul>
</div>
<div id="main-content">
    <div id="header" class="row">
        <div class="header-left float-left col-sm-6">
            <i id="toggle-left-menu" class="ion-android-menu"></i>
        </div>
        <div class="header-right float-right col-sm-6 text-end">
            <i class="ion-ios-people"></i>
        </div>
    </div>

    <div id="page-container">
        <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
            <div class="card">
                <div class="title">Add Product Details</div>
                <div class="content">
                    <div class="container-fluid">

                        <!-- Product Name -->
                        <div class="row my-2">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label>Product Name</label>
                                    <input type="text" class="form-control" formControlName="name"
                                        placeholder="Enter Product Name">
                                    <div *ngIf="productForm.get('name')?.touched && productForm.get('name')?.invalid"
                                        style="color: red">
                                        Product name is required.
                                    </div>
                                </div>
                            </div>

                            <!-- Product Price -->
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label>Product Price</label>
                                    <input type="number" class="form-control" formControlName="price"
                                        placeholder="Enter Product Price">
                                    <div *ngIf="productForm.get('price')?.touched && productForm.get('price')?.invalid"
                                        style="color: red">
                                        Product price is required.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Category & Stock -->
                        <div class="row my-2">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label>Product Category</label>
                                    <select class="form-control" formControlName="category">
                                        <option value="">Select</option>
                                        <option value="Chairs">Chairs</option>
                                        <option value="Garments">Garments</option>
                                        <option value="Toys">Toys</option>
                                    </select>
                                    <div *ngIf="productForm.get('category')?.touched && productForm.get('category')?.invalid"
                                        style="color: red">
                                        Category is required.
                                    </div>
                                </div>
                            </div>

                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label>Stock</label>
                                    <select class="form-control" formControlName="status">
                                        <option value="">Select</option>
                                        <option value="true">Available</option>
                                        <option value="false">Not Available</option>
                                    </select>
                                    <div *ngIf="productForm.get('status')?.touched && productForm.get('status')?.invalid"
                                        style="color: red">
                                        Stock status is required.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Product Image & Quantity -->
                        <div class="row my-2">
                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label>Product Image</label>
                                    <input type="file" class="form-control" (change)="onFileSelected($event)">
                                    <div *ngIf="productForm.get('image')?.touched && productForm.get('image')?.invalid"
                                        style="color: red">
                                        Product image is required.
                                    </div>

                                </div>
                            </div>

                            <div class="col-sm-6">
                                <div class="form-group">
                                    <label>Number of Product</label>
                                    <input type="number" class="form-control" formControlName="quantity"
                                        placeholder="Enter Product Quantity">
                                    <div *ngIf="productForm.get('quantity')?.touched && productForm.get('quantity')?.invalid"
                                        style="color: red">
                                        Product quantity is required.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Product Description -->
                        <div class="row my-2">
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label>Product Description</label>
                                    <textarea class="form-control" rows="3" formControlName="description"
                                        placeholder="Enter Description"></textarea>
                                    <div *ngIf="productForm.get('description')?.touched && productForm.get('description')?.invalid"
                                        style="color: red">
                                        Product description is required.
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Submit Buttons -->
                        <div class="row my-2">
                            <div class="col-sm-12">
                                <button type="submit" class="btn btn-secondary">Add Item</button>
                                <button type="reset" class="btn btn-danger">Cancel</button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </form>





        <div class="card">
            <div class="title">Product Details</div>
            <div class="content">
                <div class="container-fluid">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>SR NO</th>
                                <th>Product Name</th>
                                <th>Product Price </th>
                                <th>Product Category</th>
                                <th>Product Stock</th>
                                <th>Product Image </th>
                                <th>Number of Product </th>
                                <th>Product Description</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            @for (item of products; track $index; let i = $index) {
                            <tr>
                                <td>{{i+1}}</td>
                                <td>{{item.pName}}</td>
                                <td>{{item.price}}</td>
                                <td>{{item.categoryName}}</td>
                                <td>{{item.status?"Available":"UnAvailable"}}</td>
                                <td>
                                    <img [src]="'data:image/jpeg;base64,' + item.imageData" [alt]="item.imageName"
                                        width="100" height="100">
                                </td>
                                <td width="300">{{item.description}} </td>
                                <td>{{item.productQuantity}}</td>
                                <td>

                                    <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#myModalp"
                                        (click)="sendToUpdate(item.pId)">Edit</button>

                                    <button class="btn btn-danger" (click)="alertDeletFuntion(item.pId)">Delete</button>
                                </td>
                            </tr>
                            }

                        </tbody>
                    </table>

                    <div class="m-2">
                        <ul class="pagination justify-content-end pagination-sm">
                            <li class="page-item active"><a class="page-link" href="javascript:void(0);">Previous</a>
                            </li>
                            <li class="page-item"><a class="page-link" href="javascript:void(0);">1</a></li>
                            <li class="page-item"><a class="page-link" href="javascript:void(0);">2</a></li>
                            <li class="page-item"><a class="page-link" href="javascript:void(0);">3</a></li>
                            <li class="page-item"><a class="page-link" href="javascript:void(0);">4</a></li>
                            <li class="page-item"><a class="page-link" href="javascript:void(0);">Next</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<span id="show-lable">Hello</span>





<!-- The Modal -->
<div class="modal" id="myModalp">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Edit Product</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>

            <form [formGroup]="updateProduct" (ngSubmit)="onUpdateSubmit()">
                <!-- Modal body -->
                <div class="modal-body">
                    <div class="content">
                        <div class="container-fluid">
                            <div class="row my-2">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="">Product Name</label>
                                        <input type="text" class="form-control" formControlName="name"
                                            placeholder="Enter Product Name">
                                        <div *ngIf="updateProduct.get('name')?.touched && updateProduct.get('name')?.invalid"
                                            style="color: red">
                                            Product name is required.
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="">Product Price</label>
                                        <input type="number" class="form-control" formControlName="price"
                                            placeholder="Enter Product Price">
                                        <div *ngIf="updateProduct.get('price')?.touched && updateProduct.get('price')?.invalid"
                                            style="color: red">
                                            Product price is required.
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row  my-2">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="">Product Category</label>
                                        <select name="" id="" class="form-control" formControlName="category">
                                            <option value="">Select</option>
                                            <option value="Chairs">Chairs</option>
                                            <option value="Garments">Garments</option>
                                            <option value="Toys">Toys</option>
                                        </select>
                                        <div *ngIf="updateProduct.get('category')?.touched && updateProduct.get('category')?.invalid"
                                            style="color: red">
                                            Category is required.
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="">Stock</label>
                                        <select name="" id="" class="form-control" formControlName="status">
                                            <option value="">Select</option>
                                            <option value="true">Available</option>
                                            <option value="false">Not Available</option>
                                        </select>
                                        <div *ngIf="updateProduct.get('status')?.touched && updateProduct.get('status')?.invalid"
                                            style="color: red">
                                            Stock status is required.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--  <input type="file" class="form-control" (change)="onFileSelected($event)">
                                    <div *ngIf="productForm.get('image')?.touched && productForm.get('image')?.invalid"
                                        style="color: red">
                                        Product image is required.
                                    </div> -->
                            <div class="row  my-2">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="">Product Image</label>
                                        <input type="file" class="form-control" (change)="onFileSelected($event)">
                                        <div *ngIf="productForm.get('image')?.touched && productForm.get('image')?.invalid"
                                            style="color: red">
                                            Product image is required.
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label for="">Number of Product</label>
                                        <input type="number" class="form-control" formControlName="quantity"
                                            placeholder="Enter Product Quantity">
                                        <div *ngIf="updateProduct.get('quantity')?.touched && updateProduct.get('quantity')?.invalid"
                                            style="color: red">
                                            Product quantity is required.
                                        </div>

                                    </div>
                                </div>
                            </div>

                            <div class="row  my-2">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <label for="">Product Description</label>
                                        <textarea class="form-control" rows="3" formControlName="description" ></textarea>
                                        <div *ngIf="updateProduct.get('description')?.touched && updateProduct.get('description')?.invalid"
                                            style="color: red">
                                            Product description is required.
                                            </div>

                                    </div>
                                </div>
                            </div>
                            <div class="row  my-2">
                                <div class="col-sm-12">
                                    <button type="submit" class="btn btn-secondary">Edit Item</button>
                                    <button type="reset" class="btn btn-danger">Cancel</button>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>
            </form>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>
            </div>

        </div>
    </div>
</div>